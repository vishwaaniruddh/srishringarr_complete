function replaceUrlParam(e,a,t){var o=new RegExp("("+a+"=).*?(&|$)"),i=e;return e.search(o)>=0?e.replace(o,"$1"+t+"$2"):i+(i.indexOf("?")>0?"&":"?")+a+"="+t}function onYouTubeIframeAPIReady(){velatheme.SlideshowVideo.loadVideos(),velatheme.Video.loadVideos(),velatheme.ProductVideo.loadVideos(velatheme.ProductVideo.hosts.youtube)}"undefined"==typeof Shopify&&(Shopify={}),Shopify.formatMoney||(Shopify.formatMoney=function(e,a){var t="",o=/\{\{\s*(\w+)\s*\}\}/,i=a||this.money_format;function n(e,a){return void 0===e?a:e}function r(e,a,t,o){if(a=n(a,2),t=n(t,","),o=n(o,"."),isNaN(e)||null==e)return 0;var i=(e=(e/100).toFixed(a)).split(".");return i[0].replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1"+t)+(i[1]?o+i[1]:"")}switch("string"==typeof e&&(e=e.replace(".","")),i.match(o)[1]){case"amount":t=r(e,2);break;case"amount_no_decimals":t=r(e,0);break;case"amount_with_comma_separator":t=r(e,2,".",",");break;case"amount_no_decimals_with_comma_separator":t=r(e,0,".",",")}return i.replace(o,t)}),Shopify.optionsMap={},Shopify.updateOptionsInSelector=function(e){switch(e){case 0:var a="root",t=jQuery(".single-option-selector:eq(0)");break;case 1:a=jQuery(".single-option-selector:eq(0)").val(),t=jQuery(".single-option-selector:eq(1)");break;case 2:a=jQuery(".single-option-selector:eq(0)").val();a+=" / "+jQuery(".single-option-selector:eq(1)").val();t=jQuery(".single-option-selector:eq(2)")}var o=t.val();t.empty();for(var i=Shopify.optionsMap[a],n=0;n<i.length;n++){var r=i[n],s=jQuery("<option></option>").val(r).html(r);t.append(s)}jQuery('.swatch[data-option-index="'+e+'"] .swatch-element').each((function(){-1!==jQuery.inArray($(this).attr("data-value"),i)?$(this).removeClass("soldout").show().find(":radio").removeAttr("disabled","disabled").removeAttr("checked"):1==window.swatch_show_unvailable?$(this).addClass("soldout").find(":radio").removeAttr("checked").attr("disabled","disabled"):$(this).addClass("soldout").hide().find(":radio").removeAttr("checked").attr("disabled","disabled")})),-1!==jQuery.inArray(o,i)&&t.val(o),t.trigger("change")},Shopify.linkOptionSelectors=function(e){for(var a=0;a<e.variants.length;a++){var t=e.variants[a];if(t.available){if(Shopify.optionsMap.root=Shopify.optionsMap.root||[],Shopify.optionsMap.root.push(t.option1),Shopify.optionsMap.root=Shopify.uniq(Shopify.optionsMap.root),e.options.length>1){var o=t.option1;Shopify.optionsMap[o]=Shopify.optionsMap[o]||[],Shopify.optionsMap[o].push(t.option2),Shopify.optionsMap[o]=Shopify.uniq(Shopify.optionsMap[o])}if(3===e.options.length){o=t.option1+" / "+t.option2;Shopify.optionsMap[o]=Shopify.optionsMap[o]||[],Shopify.optionsMap[o].push(t.option3),Shopify.optionsMap[o]=Shopify.uniq(Shopify.optionsMap[o])}}}Shopify.updateOptionsInSelector(0),e.options.length>1&&Shopify.updateOptionsInSelector(1),3===e.options.length&&Shopify.updateOptionsInSelector(2),jQuery(".single-option-selector:eq(0)").change((function(){return Shopify.updateOptionsInSelector(1),3===e.options.length&&Shopify.updateOptionsInSelector(2),!0})),jQuery(".single-option-selector:eq(1)").change((function(){return 3===e.options.length&&Shopify.updateOptionsInSelector(2),!0}))},window.vela=window.vela||{},vela.cacheSelectors=function(){vela.cache={$html:$("html"),$body:$("body"),$velaProductImage:$("#ProductPhotoImg"),$velaLoading:$("#loading"),$velaNewletterModal:$("#velaNewsletterModal")}},vela.init=function(){vela.cacheSelectors(),vela.preLoading(),vela.startTheme(),vela.drawersInit(),vela.swatchProduct(),vela.productThumbImage(),vela.ajaxSearch(),vela.accordion(),vela.responsiveVideos(),vela.floatHeader(),vela.menuMobile(),vela.productCountdown(),vela.owlOneCarousel(),vela.quickview(),vela.goToTop(),vela.newsletter(),vela.productLoadMore(),vela.velaAccountPage(),vela.velaBannerTop(),"modal"==window.ajaxcart_type&&ajaxCart.load()},vela.getHash=function(){return window.location.hash},vela.productPage=function(e){var a=e.money_format,t=e.variant,o=e.selector,i=$("#AddToCart"),n=$("#ProductPrice"),r=$("#ComparePrice"),s=$(".qtySelector, .qtySelector + .velaQty"),d=$("#AddToCartText");if(t){if(t.available?(i.removeClass("disabled").prop("disabled",!1),d.html("Add to Cart"),s.show()):(i.addClass("disabled").prop("disabled",!0),d.html("Sold Out"),s.hide()),n.html(Shopify.formatMoney(t.price,a)),t.compare_at_price>t.price?r.html(Shopify.formatMoney(t.compare_at_price,a)).show():r.hide(),window.swatch_enable)for(var l=$("#"+o.domIdPrefix).closest("form"),c=0,u=t.options.length;c<u;c++)l.find('.swatch[data-option-index="'+c+'"] :radio').each((function(){_.isEqual(t.options[c],$(this).val())&&($(this).prop("checked",!0),l.find('.swatch[data-option-index="'+c+'"] .js-swatch-display').text(t.options[c]))}));var p=t.sku;""==t.sku&&(p="N/A"),$(".productSKU").html("<label>SKU:</label> "+p),t.available?($(".productAvailability").removeClass("outstock"),$(".productAvailability").addClass("instock"),$(".productAvailability").html("<label>Availability:</label> In stock")):($(".productAvailability").removeClass("instock"),$(".productAvailability").addClass("outstock"),$(".productAvailability").html("<label>Availability:</label> Out Of Stock")),window.currencies&&Currency.convertAll(window.currency,$(".jsvela-currency__item.active").data("value"),"span.money","money_format")}else i.addClass("disabled").prop("disabled",!0),d.html("Out Of Stock"),s.hide();if(t&&t.featured_media){var h=t.featured_media.id,v=0;$("#productThumbs .product-single__thumbnail").removeClass("active-thumb"),$("#productThumbs .product-single__thumbnail").each((function(){var e=$(this);if(e.data("imageid")===h){var a=e.closest(".product-single__thumbnails-item");return v=a.data("slick-index")?a.data("slick-index"):0,e.addClass("active-thumb"),$("#ProductPhotoImg").attr("src",e.data("image")).attr("data-zoom-image",e.data("zoom-image")),e.trigger("click"),!1}})),"undefined"!=v&&$("#productThumbs .product-single__thumbnails").slick("slickGoTo",v)}},vela.preLoading=function(){var e,a=0,t=$("#velaPreLoading"),o=$("#velaPreLoading > span"),i=new Array;function n(){a++;var e=Math.round(a/i.length*100);$(o).stop().animate({width:e+"%"},500,"linear"),a>=i.length&&(a=i.length,$(o).stop().animate({width:"100%"},500,"linear",(function(){$(t).fadeOut(200,(function(){$(t).remove()}))})))}t.css({position:"fixed",top:0,left:0,zIndex:99999,width:"100%",height:"100%",backgroundColor:"rgba(255, 255, 255, 1)"}),$("body").removeClass("bodyPreLoading"),e=$("body"),$(e).find("*:not(script)").each((function(){var e="";if(-1==$(this).css("background-image").indexOf("none")&&-1==$(this).css("background-image").indexOf("-gradient")){if(-1!=(e=$(this).css("background-image")).indexOf("url")){var a=e.match(/url\((.*?)\)/);e=a[1].replace(/\"/g,"")}}else"img"==$(this).get(0).nodeName.toLowerCase()&&void 0!==$(this).attr("src")&&(e=$(this).attr("src"));e.length>0&&i.push(e)})),function(){for(var e=0;e<i.length;e++)a=i[e],t=void 0,t=new Image,$(t).load((function(){n()})).error((function(){n()})).attr("src",a);var a,t}()},vela.startTheme=function(){$(".swatch :radio").change((function(){var e=$(this).closest(".swatch").attr("data-option-index"),a=$(this).val();$(this).closest("form").find(".single-option-selector").eq(e).val(a).trigger("change")})),$(".headerCartModal .overlayCart, .headerCartModal .closeCartModal").on("click",(function(){$(".headerCartModal").removeClass("active")})),$("body").on("click",".velaCartModal",(function(){$(this).parent().toggleClass("active")})),$("body").click((function(e){0===$(e.target).parents(".velaCartTop").length&&$(".velaCartTop").removeClass("active")})),$(".velaGoogleMap").on("mouseleave",(function(){$(this).find(".googleOverPlay").fadeIn()}))},vela.drawersInit=function(){vela.RightDrawer=new vela.Drawers("cartDrawer","Right",!0,{onDrawerOpen:ajaxCart.load})},vela.swatchProduct=function(){$(".velaSwatchProduct > li").each((function(){var e=$(this).parents(".velaProBlock").find(".proSwatch .product-card__image > img");e.attr("src");$(this).mouseover((function(){var a=$(this).find(".hidden a").attr("href");"#"!=a&&e.attr({src:a,srcset:""})})),$(this).mouseout((function(){var a=e.data("srcset");e.attr({srcset:a}),e.removeAttr("src")}))}))},vela.productThumbImage=function(){$("#productThumbs").length>0&&$("#productThumbs .owl-carousel").each((function(){var e=$(this),a=e.data("item");void 0!==a&&null!=a||(a=5);var t=e.data("vertical");void 0!==t&&null!=t||(t=!1);var o=a;t&&(o=4);var i={slidesToShow:a,slidesToScroll:1,dots:!1,mouseDrag:!1,nav:!0,centerMode:!1,adaptiveHeight:!0,rows:1,infinite:!1,vertical:t,responsive:[{breakpoint:768,settings:{slidesToShow:o}},{breakpoint:992,settings:{slidesToShow:a,slidesToScroll:a}},{breakpoint:1200,settings:{slidesToShow:o}},{breakpoint:1400,settings:{slidesToShow:o}}]};e.slick(i)}))},vela.ajaxSearch=function(){var e=null;$('form[action="/search"]').each((function(){var a=$(this).find('input[name="q"]'),t=$(this).find('input[name="type"]');a.position().top,a.innerHeight();$('<ul class="velaAjaxSearch"></ul>').appendTo($(this)).hide(),"product"==t.val()&&a.attr("autocomplete","off").bind("keyup change",(function(){var a=$(this).val(),t=$(this).closest("form"),o="/search?type=product&q="+a,i=t.find(".velaAjaxSearch");a.length>1&&a!=$(this).attr("data-old-term")&&($(this).attr("data-old-term",a),null!=e&&e.abort(),e=$.getJSON(o+"&view=json",(function(e){i.empty(),0==e.results_count?i.hide():($.each(e.results,(function(e,a){var t=$("<a></a>").attr("href",a.url);t.append('<span class="searchProductImage"><img src="'+a.thumbnail+'" /></span>'),t.append('<span class="searchProductTitle">'+a.title+"</span>"),t.wrap("<li></li>"),i.append(t.parent())})),e.results_count>10&&i.append('<li><a class="searchViewAll" href="'+o+'">See all results ('+e.results_count+")</a></li>"),i.fadeIn(200))})))}))}));$("body").bind("click",(function(){$(".velaAjaxSearch").hide()})),$(".searchBoxTop").hover((function(){$(".velaSearchbox .velaSearch").focus()})),vela.cache.$body.on("click",".velaSearchIcon",(function(){$(".searchBoxTop").toggleClass("active"),$(".searchClose").toggleClass("active"),$(".searchOverLayer").toggleClass("active")})),vela.cache.$body.on("click",".searchClose, .searchOverLayer",(function(){$(this).hasClass("active")&&($(".searchBoxTop").removeClass("active"),$(".searchClose").removeClass("active"),$(".searchOverLayer").removeClass("active"))}))},vela.accordion=function(){function e(){$(window).width()<=767?$(".velaBlogSidebar").hasClass("accordion")||($(".velaBlogSidebar .titleSidebar").on("click",(function(e){$(this).toggleClass("active").parent().find(".velaContent").stop().slideToggle("medium"),e.preventDefault()})),$(".velaBlogSidebar").addClass("accordion").find(".velaContent").slideUp("fast")):($(".velaBlogSidebar .titleSidebar").removeClass("active").off().parent().find(".velaContent").removeAttr("style").slideDown("fast"),$(".velaBlogSidebar").removeClass("accordion"))}function a(){$(window).width()<=767?$(".velaFooterMenu").hasClass("accordion")||($(".velaFooterMenu .velaFooterTitle").on("click",(function(e){$(this).toggleClass("active").parent().find(".velaContent").stop().slideToggle("medium"),e.preventDefault()})),$(".velaFooterMenu").addClass("accordion").find(".velaContent").slideUp("fast")):($(".velaFooterMenu .velaFooterTitle").removeClass("active").off().parent().find(".velaContent").removeAttr("style").slideDown("fast"),$(".velaFooterMenu").removeClass("accordion"))}e(),a(),$(window).resize(e),$(window).resize(a)},vela.responsiveVideos=function(){var e=$('.proDetailInfo iframe[src*="youtube.com/embed"], .proDetailInfo iframe[src*="player.vimeo"]'),a=e.add("iframe#admin_bar_iframe");e.each((function(){$(this).wrap('<div class="videoContainer"></div>')})),a.each((function(){this.src=this.src}))},vela.floatHeader=function(){function e(e){if(e){$("#velaHeader").addClass("headerFixed");var a=$("#velaHeader").height()+120;$(window).scrollTop()>=a?$(".headerMenu").addClass("velaHeaderFixed"):$(".headerMenu").removeClass("velaHeaderFixed")}else $("#velaHeader").removeClass("headerFixed"),$(".headerMenu").removeClass("velaHeaderFixed")}function a(){window.float_header&&($(window).width()>=992?e(!0):$(window).width()<=991&&e(!1))}a(),$(window).resize(a),$(window).scroll((function(){if(window.float_header)if($(window).width()>=992){var e=$("#velaHeader").height()+120;$(window).scrollTop()>=e?$(".headerMenu").addClass("velaHeaderFixed"):$(".headerMenu").removeClass("velaHeaderFixed")}else $(window).width()<=991&&$("#velaMegamenu").removeClass("velaHeaderFixed")}))},vela.menuMobile=function(){vela.cache.$body.on("click","#btnMenuMobile",(function(e){e.preventDefault(),$("body").toggleClass("menuMobileActive")})),vela.cache.$body.on("click",".btnMenuClose, .menuMobileOverlay",(function(e){e.preventDefault(),$("body").removeClass("menuMobileActive")}))},vela.productCountdown=function(){$("[data-countdown]").each((function(){var e=$(this),a=$(this).data("countdown");e.countdown(a,(function(a){e.html(a.strftime(window.countdown_format))}))}))},vela.owlOneCarousel=function(){$(".owlCarouselPlay .owl-carousel").each((function(){var e=$(this),a=e.data("nav"),t=e.data("navText"),o=e.data("dots"),i=e.data("autoplay"),n=e.data("autoplaytimeout"),r=e.data("loop"),s=e.data("margin"),d=e.data("center"),l=e.data("columnone"),c=e.data("columntwo"),u=e.data("columnthree"),p=e.data("columnfour");void 0!==s&&null!=s||(s=30);var h={margin:s,nav:a,responsive:{0:{items:e.data("columnfive")},480:{items:p},768:{items:u},992:{items:c},1200:{items:l}}};void 0===o||null==o||o.length<=0||1!=o?h.dots=!1:h.dots=!0,void 0===t||null==t||t.length<=0||(h.navText=t),void 0===r||null==r||r.length<=0||(h.loop=r),void 0===d||null==d||r.center<=0||(h.center=d),i&&(h.autoplay=i,h.autoplayTimeout=n,h.autoplayHoverPause=!0),null!=l&&e.owlCarousel(h)}))},vela.lookbook=function(){vela.cache.$body.on("click",".lookbItemButton",(function(){var e=$(this).parents(".velaBoxLookbook"),a=e.find(".lookbItem"),t=e.find(".lookbItemContent");e.hasClass("active")?(e.removeClass("active"),$(".velaBoxLookbookOverlay").remove(),$(".velaBoxLookbookClose").remove()):(e.addClass("active"),a.prepend('<div class="velaBoxLookbookOverlay"></div>'),t.prepend('<div class="velaBoxLookbookClose"></div>'),t.fadeIn(500))})),vela.cache.$body.on("click",".velaBoxLookbookOverlay, .velaBoxLookbookClose",(function(){$(".velaBoxLookbook").removeClass("active"),$(".velaBoxLookbookOverlay").remove(),$(".velaBoxLookbookClose").remove(),$(".lookbItemContent").fadeOut(500)}))},vela.quickview=function(){Shopify.doNotTriggerClickOnThumb=!1,selectCallbackQuickView=function(e,a){var t=jQuery(".jsQuickview .proBoxInfo"),o=t.find(".btnAddToCart"),i=t.find(".proQuantity"),n=t.find(".pricePrimary"),r=t.find(".priceCompare");if(e){if(""==e.sku)var s="N/A";else s=e.sku;if(t.find(".quickViewSKU").html("<label>SKU:</label>"+s),e.available?(o.removeClass("disabled").removeAttr("disabled"),o.html("Add to Cart"),i.show(),t.find(".proBoxInfo .quickviewAvailability").removeClass("outstock").addClass("instock"),t.find(".proBoxInfo .quickviewAvailability").append("<label>Availability</label>In stock")):(o.addClass("disabled").attr("disabled","disabled"),o.html("Sold Out"),i.hide(),t.find(".proBoxInfo .quickviewAvailability").removeClass("instock").addClass("outstock"),t.find(".proBoxInfo .quickviewAvailability").append("<label>Availability</label>Out Of Stock")),n.html(Shopify.formatMoney(e.price,window.money)),e.compare_at_price>e.price?r.html(Shopify.formatMoney(e.compare_at_price,window.money)).show():r.hide(),window.swatch_enable){t.find(".selector-wrapper").addClass("hiddenVariant");for(var d=jQuery("#"+a.domIdPrefix).closest("form"),l=0,c=e.options.length;l<c;l++)d.find('.swatch[data-option-index="'+l+'"] .js-qv-variant-value').each((function(){_.isEqual(e.options[l],$(this).text())&&($(this).next("input[type=radio]").prop("checked",!0),d.find('.swatch[data-option-index="'+l+'"] .js-swatch-display').text(e.options[l]))}))}if(e&&e.featured_image){var u=$(".proImageQuickview"),p=e.featured_image,h=e.featured_media,v=u[0];Shopify.Image.switchImage(p,v,(function(e,a,t){$(".proThumbnails img").each((function(){$(this).parent();if($(this).parent().data("imageid")==h.id){$(this).parent().trigger("click");var e=$(this).parent().data("index");return $(".proThumbnailsQuickview .owl-carousel").trigger("to.owl.carousel",[e,[300],!0]),!1}}))}))}window.currencies&&Currency.convertAll(window.currency,Currency.cookie.read())}else o.addClass("disabled").attr("disabled","disabled"),o.html("Out Of Stock"),i.hide()},changeImageQuickView=function(e,a){var t=$(e).attr("src");t=t.replace("_compact",""),$(a).attr("src",t)},velaUpdateOptionsInSelector=function(e){switch(e){case 0:var a="root",t=$(".jsQuickview .single-option-selector:eq(0)");break;case 1:a=$(".jsQuickview .single-option-selector:eq(0)").val(),t=$(".jsQuickview .single-option-selector:eq(1)");break;case 2:a=$(".jsQuickview .single-option-selector:eq(0)").val();a+=" / "+$(".jsQuickview .single-option-selector:eq(1)").val();t=$(".jsQuickview .single-option-selector:eq(2)")}var o=t.val();t.empty();var i=Shopify.optionsMapQuickview[a];if(void 0!==i)for(var n=0;n<i.length;n++){var r=i[n],s=$("<option></option>").val(r).html(r);t.append(s)}$('.jsQuickview .swatch[data-option-index="'+e+'"] .swatch-element').each((function(){var e=$(this).find(".js-qv-variant-value").text();-1!==$.inArray(e,i)?$(this).removeClass("soldout").show().find(":radio").removeAttr("disabled","disabled"):1==window.swatch_show_unvailable?$(this).addClass("soldout").find(":radio").removeAttr("checked").attr('disabled", "disabled'):$(this).addClass("soldout").hide().find(":radio").removeAttr("checked").attr("disabled","disabled")})),-1!==$.inArray(o,i)&&t.val(o),t.trigger("change")},velaLinkOptionSelectors=function(e){for(var a=0;a<e.variants.length;a++){var t=e.variants[a];if(t.available){if(Shopify.optionsMapQuickview.root=Shopify.optionsMapQuickview.root||[],Shopify.optionsMapQuickview.root.push(t.option1),Shopify.optionsMapQuickview.root=Shopify.uniq(Shopify.optionsMapQuickview.root),e.options.length>1){var o=t.option1;Shopify.optionsMapQuickview[o]=Shopify.optionsMapQuickview[o]||[],Shopify.optionsMapQuickview[o].push(t.option2),Shopify.optionsMapQuickview[o]=Shopify.uniq(Shopify.optionsMapQuickview[o])}if(3===e.options.length){o=t.option1+" / "+t.option2;Shopify.optionsMapQuickview[o]=Shopify.optionsMapQuickview[o]||[],Shopify.optionsMapQuickview[o].push(t.option3),Shopify.optionsMapQuickview[o]=Shopify.uniq(Shopify.optionsMapQuickview[o])}}}velaUpdateOptionsInSelector(0),e.options.length>1&&velaUpdateOptionsInSelector(1),3===e.options.length&&velaUpdateOptionsInSelector(2),$("#productSelectQuickview-option-0").change((function(){return velaUpdateOptionsInSelector(1),3===e.options.length&&velaUpdateOptionsInSelector(2),!0})),$("#productSelectQuickview-option-1").change((function(){return 3===e.options.length&&velaUpdateOptionsInSelector(2),!0}))},loadQuickViewSlider=function(e,a){var t=$(".loadingImage");Shopify.resizeImage(e.featured_image,"grande");t.hide();if(e.media.length>0){var o=a.find(".proThumbnailsQuickview .owl-carousel");for(i in e.media){var n='<div class="thumbItem"><a href="javascript:void(0)" class="'+(0==i?"active":"")+'"  data-index="'+i+'" data-imageid="'+e.media[i].id+'" data-image="'+e.media[i].preview_image.src+'" data-zoom-image="'+e.media[i].preview_image.src+'" ><img src="'+e.media[i].preview_image.src+'" alt="'+e.media[i].preview_image.alt+'" /></a></div>';o.append(n)}o.find("a").click((function(){var n=a.find(".proImageQuickview");if(n.attr("src")!=$(this).attr("data-image")){for(i in e.media)o.find("a").hasClass("active")&&o.find("a").removeClass("active");n.attr("src",$(this).attr("data-image")),$(this).addClass("active"),t.show(),n.load((function(e){$(this).unbind("load"),t.hide()}))}})),o.owlCarousel({items:4,nav:!0,mouseDrag:!1,dots:!1}).css("visibility","visible")}else a.find(".jsQuickview .proThumbnailsQuickview").remove()},convertToSlug=function(e){return e.toLowerCase().replace(/[^a-z0-9 -]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-")},addCheckedSwatch=function(){vela.cache.$body.on("click",".swatch .color label",(function(){$(".swatch .color").each((function(){$(this).find("label").removeClass("checkedBox")})),$(this).addClass("checkedBox")}))},quickViewVariants=function(e,a){if(e.variants.length>1){for(var t=0;t<e.variants.length;t++){var o='<option value="'+(c=e.variants[t]).id+'">'+c.title+"</option>";a.find("form.formQuickview .proVariantsQuickview > select").append(o)}if(new Shopify.OptionSelectors("productSelectQuickview",{product:e,onVariantSelected:selectCallbackQuickView}),1==e.options.length&&$("form.formQuickview .selector-wrapper:eq(0)").prepend("<label>"+e.options[0].name+"</label>"),a.find("form.formQuickview .selector-wrapper label").each((function(a,t){$(this).html(e.options[a].name)})),window.swatch_enable){var i=window.file_url.substring(0,window.file_url.lastIndexOf("?")),n=window.asset_url.substring(0,window.asset_url.lastIndexOf("?")),r="";for(t=0;t<e.options.length;t++){r+='<div class="swatch clearfix" data-option-index="'+t+'">',r+='<div class="header">'+e.options[t].name+": <span class='js-swatch-display text'>&nbsp;</span></div>";var s=!1;/Color|Colour/i.test(e.options[t].name)&&(s=!0);for(var d=new Array,l=0;l<e.variants.length;l++){var c,u=(c=e.variants[l]).options[t],p=this.convertToSlug(u),h="quickview-swatch-"+t+"-"+p;if(d.indexOf(u)<0){var v=i+p+".png";c.featured_image&&(v=c.featured_image.src),r+='<div data-value="'+u+'" class="swatch-element '+(s?"color ":"")+p+(c.available?" available ":" soldout ")+'">',s&&(r+='<div class="tooltip">'+u+"</div>"),r+='<span class="js-qv-variant-value hidden">'+u+"</span>",r+='<input id="'+h+'" type="radio" name="option-'+t+'" value="'+u+'" '+(0==l?" checked ":"")+(c.available?"":" disabled")+" />",r+=s?'<label class="'+p+'" for="'+h+'" style="background-color: '+p+"; background-image: url("+v+'.png)"><img class="crossed-out" src="'+n+'soldout.png" /><i></i></label>':'<label class="'+p+'" for="'+h+'">'+u+'<img class="crossed-out" src="'+n+'soldout.png" /></label>',r+="</div>",c.available&&$('.jsQuickview .swatch[data-option-index="'+t+'"] .'+p).removeClass("soldout").addClass("available").find(":radio").removeAttr("disabled"),d.push(u)}}r+="</div>"}a.find("form.formQuickview .proVariantsQuickview > select").after(r),a.find(".swatch :radio").change((function(){var e=$(this).closest(".swatch").attr("data-option-index"),a=$(this).prev(".js-qv-variant-value").text();$(this).closest("form").find(".single-option-selector").eq(e).val(a).trigger("change")})),addCheckedSwatch()}e.available&&(Shopify.optionsMapQuickview={},window.swatch_show_unvailable?window.swatch_enable&&velaLinkOptionSelectors(e):velaLinkOptionSelectors(e))}else{a.find("form.formQuickview .proVariantsQuickview > select").remove();var f='<input type="hidden" name="id" value="'+e.variants[0].id+'">';a.find("form.formQuickview").append(f)}},validateQty=function(e){return(parseFloat(e)!=parseInt(e)||isNaN(e))&&(e=1),e},qvAddToCart=function(){"page"!=window.ajaxcart_type&&ajaxCart.init({formSelector:".formQuickview",cartContainer:"#cartContainer",addToCartSelector:".btnAddToCart",cartCountSelector:"#CartCount",cartCostSelector:"#CartCost",moneyFormat:null})},$(document).on("click",".proThumbnailsQuickview li",(function(){changeImageQuickView($(this).find("img:first-child"),".proImageQuickview")})),$(document).on("click",".quickviewClose, .quickviewOverlay",(function(e){$("#velaQuickView").fadeOut(0),$(".jsQuickview").html(""),$(".jsQuickview").removeClass("velaFadeOut")})),$(document).on("click",".btnProductQuickview",(function(e){vela.cache.$velaLoading.show();var a=$(this).data("handle");return Shopify.getProduct(a,(function(e){var a=$("#quickviewModal").html();$(".jsQuickview").html(a);var t=$(".jsQuickview"),o=e.description.replace(/(<([^>]+)>)/gi,""),i="",n=e.media[0].preview_image.src;if(-1!=e.description.indexOf("[SHORTDESCRIPTION]")?(i=e.description.split("[SHORTDESCRIPTION]")[0],t.find(".proShortDescription").html(i)):(i=o.split(" ").splice(0,30).join(" ")+"...",t.find(".proShortDescription").text(i)),t.find(".proImageQuickview").attr("src",n),t.find(".proImage").attr("href",e.url),t.find(".pricePrimary").html(Shopify.formatMoney(e.price,window.money)),t.find(".proBoxInfo").attr("id","product-"+e.id),t.find(".formQuickview").attr("id","product-actions-"+e.id),t.find(".formQuickview select").attr("id","productSelectQuickview"),t.find(".proBoxInfo .quickviewName").html("<a href='"+e.url+"'>"+e.title+"</a>"),t.find(".proBoxInfo .quickViewVendor").append("<label>Vendor:</label> "+e.vendor),""==e.variants[0].sku)var r="N/A";else r=e.variants[0].sku;t.find(".proBoxInfo .quickViewSKU").append("<label>SKU:</label> "+r),e.available?(t.find(".proBoxInfo .quickviewAvailability").removeClass("outstock").addClass("instock"),t.find(".proBoxInfo .quickviewAvailability").append("<label>Availability:</label> In stock")):(t.find(".proBoxInfo .quickviewAvailability").removeClass("instock").addClass("outstock"),t.find(".proBoxInfo .quickviewAvailability").append("<label>Availability:</label> Out Of Stock")),e.compare_at_price>e.price?(t.find(".priceCompare").html(Shopify.formatMoney(e.compare_at_price_max,window.money)).show(),t.find(".pricePrimary").addClass("priceSale")):t.find(".priceCompare").html(""),e.available?quickViewVariants(e,t):(t.find("select, input").hide(),t.find(".btnAddToCart").html("Sold Out").addClass("disabled").attr("disabled","disabled"),t.find(".proQuantity").hide()),loadQuickViewSlider(e,t),$("#velaQuickView").fadeIn(500),$(".jsQuickview").fadeIn(500),$(".jsQuickview").addClass("velaFadeOut"),vela.cache.$velaLoading.hide(),qvAddToCart(),window.currencies&&Currency.convertAll(window.currency,Currency.cookie.read())})),!1}))},vela.goToTop=function(){$(window).scroll((function(){$(window).scrollTop()>=200?$("#goToTop").fadeIn():$("#goToTop").fadeOut()})),$("#goToTop").click((function(){return $("body,html").animate({scrollTop:0},"normal"),$("#pageContainer").animate({scrollTop:0},"normal"),!1}))},vela.newsletter=function(){var e;$(".js-vela-newsletter").each((function(){var a=$(this);a.on("submit",(function(t){t.preventDefault(),$(".js-alert-newsletter").remove(),$.ajax({type:a.attr("method"),url:a.attr("action"),data:a.serialize(),cache:!1,dataType:"json",contentType:"application/json; charset=utf-8",success:function(t){"success"===t.result?(a.prepend(e(window.newsletter_success,"success")),$(".js-input-newsletter").val("")):a.prepend(e(t.msg.replace("0 - ",""),"error"))},error:function(t){a.prepend(e(t,"error"))}})}))})),e=function(e,a){return'<div class="js-alert-newsletter alert-dismissible  alert alert-'+a+'">'+e+'<button type="button" data-dismiss="alert" aria-hidden="true" aria-label="Close" class="btnClose">x</button></div>'}},vela.productLoadMore=function(){function e(){$(".productLoadMore .btnLoadMore").click((function(a){return $(this).hasClass("disableLoadMore")?(a.stopPropagation(),!1):(t=$(".productLoadMore .btnLoadMore"),o=$(".productLoadMore .btnLoadMore").attr("href"),$.ajax({type:"GET",url:o,beforeSend:function(){vela.cache.$velaLoading.show()},success:function(a){t.remove(),vela.cache.$velaLoading.hide(),$(a).find(".producsLoadMore").insertBefore($(".proLoadMoreBottom")),e()},dataType:"html"}),a.stopPropagation(),!1);var t,o}))}e()},vela.velaAccountPage=function(){$("body").on("click",".velaRecoverPassword",(function(e){e.preventDefault(),$("#RecoverPasswordForm").removeClass("hidden"),$("#CustomerLoginForm").addClass("hidden")})),$("body").on("click",".velaHideRecoverPasswordLink",(function(e){e.preventDefault(),$("#RecoverPasswordForm").addClass("hidden"),$("#CustomerLoginForm").removeClass("hidden")})),"#recover"==vela.getHash()&&($("#RecoverPasswordForm").removeClass("hidden"),$("#CustomerLoginForm").addClass("hidden")),$("body").on("click",".velaShowPassword",(function(e){var a=$(this),t=a.prev("input");"password"==t.attr("type")?(t.attr("type","text"),a.text("Hide")):(t.attr("type","password"),a.text("Show"))}))},vela.productImage=function(){if(vela.cache.$velaProductImage.length>0)if($(window).width()>=992){var e=vela.cache.$velaProductImage.data("zoom-enable"),a=vela.cache.$velaProductImage.data("zoom-scroll"),t=vela.cache.$velaProductImage.data("zoom-type"),o=vela.cache.$velaProductImage.data("zoom-width"),i=vela.cache.$velaProductImage.data("zoom-height"),n=vela.cache.$velaProductImage.data("zoom-lens"),r=vela.cache.$velaProductImage.data("lens-shape");vela.cache.$velaProductImage.data("lens-border");vela.cache.$velaProductImage.elevateZoom({zoomEnabled:e,gallery:"productThumbs",galleryActiveClass:"active",cursor:"pointer",zoomType:t,scrollZoom:a,zoomWindowWidth:o,zoomWindowHeight:i,lensSize:n,lensShape:r,onImageSwapComplete:function(){$(".zoomWrapper div").hide()}}),vela.cache.$velaProductImage.bind("click",(function(e){var a=$("#ProductPhotoImg").data("elevateZoom"),t=[];return $.each(a.getGalleryList(),(function(e,a){t.push({src:a.href})})),$.fancybox.open(t),!1})),$("#velaViewImage").bind("click",(function(e){var a=$("#ProductPhotoImg").data("elevateZoom"),t=[];return $.each(a.getGalleryList(),(function(e,a){t.push({src:a.href})})),$.fancybox.open(t),!1}))}else if($(window).width()<=991){vela.cache.$velaProductImage.elevateZoom({zoomEnabled:!1,gallery:"productThumbs"});var s=[],d=vela.cache.$velaProductImage.data("elevateZoom");$.each(d.getGalleryList(),(function(e,a){s.push({src:a.href})}))}},vela.Drawers=function(){var e=function(e,a,t,o){var i={close:".jsDrawerClose",open:".jsDrawerOpen"+a,openClass:"jsDrawerOpen",dirOpenClass:"jsDrawerOpen"+a};if(this.$nodes={parent:$("body, html"),page:$("#pageContainer"),moved:$(".isMoved")},this.config=$.extend(i,o),this.position=a,this.iscart=t,this.$drawer=$("#"+e),!this.$drawer.length)return!1;this.drawerIsOpen=!1,this.init()};return e.prototype.init=function(){$(this.config.open).on("click",$.proxy(this.open,this)),this.$drawer.find(this.config.close).on("click",$.proxy(this.close,this))},e.prototype.open=function(e){if("modal"==window.ajaxcart_type&&this.iscart){var a=!1;this.$drawer.modal(),e?e.preventDefault():a=!0,e&&e.stopPropagation&&(e.stopPropagation(),this.$activeSource=$(e.currentTarget)),this.config.onDrawerOpen&&"function"==typeof this.config.onDrawerOpen&&(a||this.config.onDrawerOpen())}else{a=!1;if(e?e.preventDefault():a=!0,e&&e.stopPropagation&&(e.stopPropagation(),this.$activeSource=$(e.currentTarget)),this.drawerIsOpen&&!a)return this.close();this.$nodes.moved.addClass("is-transitioning"),this.$drawer.prepareTransition(),this.$nodes.parent.addClass(this.config.openClass+" "+this.config.dirOpenClass),this.drawerIsOpen=!0,this.trapFocus(this.$drawer,"drawer_focus"),this.config.onDrawerOpen&&"function"==typeof this.config.onDrawerOpen&&(a||this.config.onDrawerOpen()),this.$activeSource&&this.$activeSource.attr("aria-expanded")&&this.$activeSource.attr("aria-expanded","true"),this.$nodes.page.on("touchmove.drawer",(function(){return!1})),this.$nodes.page.on("click.drawer",$.proxy((function(){return this.close(),!1}),this))}},e.prototype.close=function(){this.drawerIsOpen&&($(document.activeElement).trigger("blur"),this.$nodes.moved.prepareTransition({disableExisting:!0}),this.$drawer.prepareTransition({disableExisting:!0}),this.$nodes.parent.removeClass(this.config.dirOpenClass+" "+this.config.openClass),this.drawerIsOpen=!1,this.removeTrapFocus(this.$drawer,"drawer_focus"),this.$nodes.page.off(".drawer"))},e.prototype.trapFocus=function(e,a){var t=a?"focusin."+a:"focusin";e.attr("tabindex","-1"),e.focus(),$(document).on(t,(function(a){e[0]===a.target||e.has(a.target).length||e.focus()}))},e.prototype.removeTrapFocus=function(e,a){var t=a?"focusin."+a:"focusin";e.removeAttr("tabindex"),$(document).off(t)},e}(),window.velatheme=window.velatheme||{},velatheme.Sections=function(){this.constructors={},this.instances=[]},velatheme.Sections.prototype=_.assignIn({},velatheme.Sections.prototype,{_createInstance:function(e,a){var t=$(e),o=t.attr("data-section-id"),i=t.attr("data-section-type");if(a=a||this.constructors[i],!_.isUndefined(a)){var n=_.assignIn(new a(e),{id:o,type:i,container:e});this.instances.push(n)}},register:function(e,a){this.constructors[e]=a,$("[data-section-type="+e+"]").each(function(e,t){this._createInstance(t,a)}.bind(this))}}),vela.velaBannerTop=function(){var e=new Date;e.setTime(e.getTime()+3e5),"closed"==$.cookie("velaBannerTop")?$("#bannerTop").removeClass("active"):$("#bannerTop").addClass("active"),$("#bannerTop .btn-bannerTop").click((function(){$("#bannerTop").hasClass("active")?($.cookie("velaBannerTop","closed",e),$("#bannerTop").removeClass("active")):($.cookie("velaBannerTop","opened",e),$("#bannerTop").addClass("active"))}))},velatheme.Slideshow=function(){this.$slideshow=null;var e="velaSlideshowWrapper",a="slick-current",t="velassVideo",o="velassVideoBackground",i="btnssVideoControlClose",n="btnssPause",r="is-paused";function s(a){this.$slideshow=$(a),this.$wrapper=this.$slideshow.closest("."+e),this.$pause=this.$wrapper.find("."+n),this.settings={accessibility:!0,arrows:this.$slideshow.data("navigation"),dots:this.$slideshow.data("pagination"),fade:!0,pauseOnHover:!0,draggable:!0,touchThreshold:20,autoplay:this.$slideshow.data("autoplay"),autoplaySpeed:this.$slideshow.data("speed")},this.$slideshow.on("beforeChange",l.bind(this)),this.$slideshow.on("init",d.bind(this)),this.$slideshow.slick(this.settings),this.$pause.on("click",this.togglePause.bind(this))}function d(e,a){var t=a.$slider,o=a.$list,n=this.$wrapper,r=this.settings.autoplay;t.removeClass("velaSliderLoading"),o.removeAttr("aria-live"),n.on("focusin",(function(e){n.has(e.target).length&&(o.attr("aria-live","polite"),r&&t.slick("slickPause"))})),n.on("focusout",(function(e){if(n.has(e.target).length&&(o.removeAttr("aria-live"),r)){if($(e.target).hasClass(i))return;t.slick("slickPlay")}})),a.$dots&&a.$dots.on("keydown",(function(e){37===e.which&&t.slick("slickPrev"),39===e.which&&t.slick("slickNext"),37!==e.which&&39!==e.which||a.$dots.find(".slick-active button").focus()}))}function l(e,i,n,r){var s=i.$slider,d=s.find("."+a),l=s.find('.velassSlide[data-slick-index="'+r+'"]');if(c(d)){var u=d.find("."+t),p=u.attr("id");velatheme.SlideshowVideo.pauseVideo(p),u.attr("tabindex","-1")}if(c(l)){var h=l.find("."+t),v=h.attr("id");h.hasClass(o)?velatheme.SlideshowVideo.playVideo(v):h.attr("tabindex","0")}}function c(e){return e.find("."+t).length}return s.prototype.togglePause=function(){var e="#velaSlideshows"+this.$pause.data("id");this.$pause.hasClass(r)?(this.$pause.removeClass(r),$(e).slick("slickPlay")):(this.$pause.addClass(r),$(e).slick("slickPause"))},s}(),velatheme.SlideshowVideo=function(){var e=!1,a=!1,t=!1,o=!1,i=!1,n={},r=[],s={ratio:16/9,playerVars:{iv_load_policy:3,modestbranding:1,autoplay:0,controls:0,showinfo:0,wmode:"opaque",branding:0,autohide:0,rel:0},events:{onReady:function(e){e.target.setPlaybackQuality("hd1080");var a=f(e);switch(u(),$("#"+a.id).attr("tabindex","-1"),w(),a.type){case"background-chrome":case"background":e.target.mute(),a.$parentSlide.hasClass(d.currentSlide)&&l(a.id)}a.$parentSlide.addClass(d.loaded)},onStateChange:function(e){var a=f(e);switch(e.data){case 0:!function(e){switch(e.type){case"background":r[e.id].seekTo(0);break;case"background-chrome":r[e.id].seekTo(0),v(e.id);break;case"chrome":v(e.id)}}(a);break;case 1:p(a);break;case 2:h(a)}}}},d={playing:"video-is-playing",paused:"video-is-paused",loading:"video-is-loading",loaded:"video-is-loaded",slideshowWrapper:"velaSlideshowWrapper",slide:"velassSlide",slideBackgroundVideo:"velassSlideBackgroundVideo",slideDots:"slick-dots",videoChrome:"velassVideo-chrome",videoBackground:"velassVideoBackground",playVideoBtn:"btnssVideoControlPlay",closeVideoBtn:"btnssVideoControlClose",currentSlide:"slick-current",slickClone:"slick-cloned",supportsAutoplay:"autoplay",supportsNoAutoplay:"no-autoplay"};function l(t,i){var s=n[t],l=r[t],u=n[t].$parentSlide;if(o)p(s);else if(i||e&&a)return u.removeClass(d.loading),p(s),void l.playVideo();e||function(t,o){t.playVideo(),function(e){var t,o,i=$.Deferred();return t=setInterval((function(){e.getCurrentTime()<=0||(a=!0,clearInterval(t),clearTimeout(o),i.resolve())}),500),o=setTimeout((function(){clearInterval(t),i.reject()}),4e3),i}(t).then((function(){c(!0)})).fail((function(){c(!1),t.stopVideo()})).always((function(){e=!0,o.removeClass(d.loading)}))}(l,u)}function c(a){var t=a?d.supportsAutoplay:d.supportsNoAutoplay;$(document.documentElement).addClass(t),a||(o=!0),e=!0}function u(){t||($(window).width()<767&&(o=!0),o&&c(!1),t=!0)}function p(e){var a=e.$parentSlideshowWrapper,t=e.$parentSlide;if(t.removeClass(d.loading),"background"!==e.status){switch($("#"+e.id).attr("tabindex","0"),e.type){case"chrome":case"background-chrome":a.removeClass(d.paused).addClass(d.playing),t.removeClass(d.paused).addClass(d.playing)}t.find("."+d.closeVideoBtn).focus()}}function h(e){var a=e.$parentSlideshowWrapper,t=e.$parentSlide;"background-chrome"!==e.type?("closed"!==e.status&&"background"!==e.type&&(a.addClass(d.paused),t.addClass(d.paused)),"chrome"===e.type&&"closed"===e.status&&(a.removeClass(d.paused),t.removeClass(d.paused)),a.removeClass(d.playing),t.removeClass(d.playing)):v(e.id)}function v(e){var a=n[e],t=a.$parentSlideshowWrapper,o=a.$parentSlide,i=[d.pause,d.playing].join(" ");switch($("#"+a.id).attr("tabindex","-1"),a.status="closed",a.type){case"background-chrome":r[e].mute(),function(e){var a=$("#"+e).addClass(d.videoBackground).removeClass(d.videoChrome);n[e].$parentSlide.addClass(d.slideBackgroundVideo),n[e].status="background",l(e,!0),g(a)}(e);break;case"chrome":r[e].stopVideo(),h(a)}t.removeClass(i),o.removeClass(i)}function f(e){var a=e.target.getIframe().id;return n[a]}function m(e){var a=n[e];switch(a.$parentSlide.addClass(d.loading),a.status="open",a.type){case"background-chrome":!function(e){$("#"+e).removeAttr("style").removeClass(d.videoBackground).addClass(d.videoChrome),n[e].$parentSlideshowWrapper.removeClass(d.slideBackgroundVideo).addClass(d.playing),n[e].$parentSlide.removeClass(d.slideBackgroundVideo).addClass(d.playing),n[e].status="open"}(e),r[e].unMute(),l(e,!0);break;case"chrome":l(e,!0)}$(document).on("keydown.videoPlayer",(function(a){27===a.keyCode&&v(e)}))}function w(){$("."+d.videoBackground).each((function(e,a){g($(a))}))}function g(e){var a=e.closest("."+d.slide);if(!a.hasClass(d.slickClone)){var t=a.width(),o=e.width(),i=e.height();t/s.ratio<i?(o=Math.ceil(i*s.ratio),e.width(o).height(i).css({left:(t-o)/2,top:0})):(i=Math.ceil(t/s.ratio),e.width(t).height(i).css({left:0,top:(i-i)/2})),e.prepareTransition().addClass(d.loaded)}}function y(){$(document).on("click.videoPlayer","."+d.playVideoBtn,(function(e){m($(e.currentTarget).data("controls"))})),$(document).on("click.videoPlayer","."+d.closeVideoBtn,(function(e){v($(e.currentTarget).data("controls"))})),$(window).on("resize.videoPlayer",$.debounce(250,(function(e){var a=$(e.currentTarget).data("controls");i&&(w(),l(a,!0))})))}return{init:function(e){if(e.length&&(n[e.attr("id")]={id:e.attr("id"),videoId:e.data("id"),type:e.data("type"),status:"chrome"===e.data("type")?"closed":"background",videoSelector:e.attr("id"),$parentSlide:e.closest("."+d.slide),$parentSlideshowWrapper:e.closest("."+d.slideshowWrapper),controls:"background"===e.data("type")?0:1,slideshow:e.data("slideshow")},!i)){var a=document.createElement("script");a.src="https://www.youtube.com/iframe_api";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(a,t)}},loadVideos:function(){for(var e in n)if(n.hasOwnProperty(e)){var a=$.extend({},s,n[e]);a.playerVars.controls=a.controls,r[e]=new YT.Player(e,a)}y(),i=!0},loadVideo:function(e){if(i){var a=$.extend({},s,n[e]);a.playerVars.controls=a.controls,r[e]=new YT.Player(e,a),y()}},playVideo:function(e){(t||o)&&e&&"function"==typeof r[e].playVideo&&l(e)},pauseVideo:function(e){r[e]&&"function"==typeof r[e].pauseVideo&&r[e].pauseVideo()},removeEvents:function(){$(document).off(".videoPlayer"),$(window).off(".videoPlayer")}}}(),velatheme.slideshows={},velatheme.SlideshowSection=function(e){var a=(this.$container=$(e)).attr("data-section-id"),t=this.slideshow="#velaSlideshows"+a;$(".velassVideo",t).each((function(){var e=$(this);velatheme.SlideshowVideo.init(e),velatheme.SlideshowVideo.loadVideo(e.attr("id"))})),velatheme.slideshows[t]=new velatheme.Slideshow(t)},velatheme.SlideshowSection.prototype=_.assignIn({},velatheme.SlideshowSection.prototype,{onUnload:function(){delete velatheme.slideshows[this.slideshow]},onBlockSelect:function(e){var a=$(this.slideshow),t=$(".velassSlide"+e.detail.blockId+":not(.slick-cloned)").data("slick-index");a.slick("slickGoTo",t).slick("slickPause")},onBlockDeselect:function(){$(this.slideshow).slick("slickPlay")}}),velatheme.Video=function(){var e=!1,a=!1,t=!1,o=!1,i={},n=[],r={ratio:16/9,scrollAnimationDuration:400,playerVars:{iv_load_policy:3,modestbranding:1,autoplay:0,controls:0,wmode:"opaque",branding:0,autohide:0,rel:0},events:{onReady:function(e){e.target.setPlaybackQuality("hd1080");var a=T(e),t=e.target.getVideoData().title;b(),$("#"+a.id).attr("tabindex","-1"),x(),A(a.$videoWrapper,t),"background"===a.type&&(e.target.mute(),g(a.id));a.$videoWrapper.addClass(s.loaded)},onStateChange:function(a){var t=T(a);"background"!==t.status||M()||e||a.data!==YT.PlayerState.PLAYING&&a.data!==YT.PlayerState.BUFFERING||(y(!0),e=!0,t.$videoWrapper.removeClass(s.loading));switch(a.data){case YT.PlayerState.ENDED:!function(e){switch(e.type){case"background":n[e.id].seekTo(0);break;case"image_with_play":S(e.id),I(e.id,!1)}}(t);break;case YT.PlayerState.PAUSED:setTimeout((function(){a.target.getPlayerState()===YT.PlayerState.PAUSED&&C(t)}),200)}}}},s={playing:"video-is-playing",paused:"video-is-paused",loading:"video-is-loading",loaded:"video-is-loaded",backgroundVideoWrapper:"video-background-wrapper",videoWithImage:"video--image_with_play",backgroundVideo:"video--background",userPaused:"is-paused",supportsAutoplay:"autoplay",supportsNoAutoplay:"no-autoplay",wrapperMinHeight:"video-section-wrapper--min-height"},d=".video-section",l=".video-section-wrapper",c=".video-control__play",u=".video-control__close-wrapper",p=".video__pause",h=".video__pause-stop",v=".video__pause-resume",f=".icon__fallback-text";function m(e){(a||t)&&e&&"function"==typeof n[e].playVideo&&g(e)}function w(e){n[e]&&"function"==typeof n[e].pauseVideo&&n[e].pauseVideo()}function g(a,o){var r=i[a],d=n[a],l=r.$videoWrapper;if(t)k(r);else{if(o||e)return l.removeClass(s.loading),k(r),void d.playVideo();d.playVideo()}}function y(a){var o=a?s.supportsAutoplay:s.supportsNoAutoplay;$(document.documentElement).removeClass(s.supportsAutoplay).removeClass(s.supportsNoAutoplay).addClass(o),a||(t=!0),e=!0}function b(){a||(M()&&(t=!0),t&&y(!1),a=!0)}function k(e){var a=e.$videoWrapper,t=a.find(p);a.removeClass(s.loading),t.hasClass(s.userPaused)&&t.removeClass(s.userPaused),"background"!==e.status&&($("#"+e.id).attr("tabindex","0"),"image_with_play"===e.type&&a.removeClass(s.paused).addClass(s.playing),setTimeout((function(){a.find(u).focus()}),r.scrollAnimationDuration))}function C(e){var a=e.$videoWrapper;"image_with_play"===e.type&&("closed"===e.status?a.removeClass(s.paused):a.addClass(s.paused)),a.removeClass(s.playing)}function S(e){var a=i[e],t=a.$videoWrapper,o=[s.paused,s.playing].join(" ");switch(M()&&t.removeAttr("style"),$("#"+a.id).attr("tabindex","-1"),a.status="closed",a.type){case"image_with_play":n[e].stopVideo(),C(a);break;case"background":n[e].mute(),function(e){$("#"+e).removeClass(s.videoWithImage).addClass(s.backgroundVideo),i[e].$videoWrapper.addClass(s.backgroundVideoWrapper),i[e].status="background",P($("#"+e))}(e)}t.removeClass(o)}function T(e){var a=e.target.getIframe().id;return i[a]}function I(e,a){var t=i[e],o=t.$videoWrapper.offset().top,n=t.$videoWrapper.find(c),d=0,l=0;M()&&t.$videoWrapper.parent().toggleClass("page-width",!a),a?(l=M()?$(window).width()/r.ratio:t.$videoWrapper.width()/r.ratio,d=($(window).height()-l)/2,t.$videoWrapper.removeClass(s.wrapperMinHeight).animate({height:l},600),M()&&Shopify.designMode||$("html, body").animate({scrollTop:o-d},r.scrollAnimationDuration)):(l=M()?t.$videoWrapper.data("mobile-height"):t.$videoWrapper.data("desktop-height"),t.$videoWrapper.height(t.$videoWrapper.width()/r.ratio).animate({height:l},600),setTimeout((function(){t.$videoWrapper.addClass(s.wrapperMinHeight)}),600),n.focus())}function _(e){var a=i[e];switch(a.$videoWrapper.addClass(s.loading),a.$videoWrapper.attr("style","height: "+a.$videoWrapper.height()+"px"),a.status="open",a.type){case"image_with_play":g(e,!0);break;case"background":!function(e){$("#"+e).removeClass(s.backgroundVideo).addClass(s.videoWithImage),setTimeout((function(){$("#"+e).removeAttr("style")}),600),i[e].$videoWrapper.removeClass(s.backgroundVideoWrapper).addClass(s.playing),i[e].status="open"}(e),n[e].unMute(),g(e,!0)}I(e,!0),$(document).on("keydown.videoPlayer",(function(e){var a=$(document.activeElement).data("controls");e.keyCode===slate.utils.keyboardKeys.ESCAPE&&a&&(S(a),I(a,!1))}))}function x(){$("."+s.backgroundVideo).each((function(e,a){P($(a))}))}function P(e){if(o)if(M())e.removeAttr("style");else{var a=e.closest(l),t=a.width(),i=e.width(),n=a.data("desktop-height");t/r.ratio<n?(i=Math.ceil(n*r.ratio),e.width(i).height(n).css({left:(t-i)/2,top:0})):(n=Math.ceil(t/r.ratio),e.width(t).height(n).css({left:0,top:(n-n)/2})),e.prepareTransition(),a.addClass(s.loaded)}}function M(){return $(window).width()<767||window.mobileCheck()}function V(){$(document).on("click.videoPlayer",c,(function(e){_($(e.currentTarget).data("controls"))})),$(document).on("click.videoPlayer",u,(function(e){var a=$(e.currentTarget).data("controls");$(e.currentTarget).blur(),S(a),I(a,!1)})),$(document).on("click.videoPlayer",p,(function(e){!function(e){var a=i[e].$videoWrapper.find(p),t=a.hasClass(s.userPaused);t?(a.removeClass(s.userPaused),m(e)):(a.addClass(s.userPaused),w(e)),a.attr("aria-pressed",!t)}($(e.currentTarget).data("controls"))})),$(window).on("resize.videoPlayer",$.debounce(200,(function(){if(o){var e,a=window.innerHeight===screen.height;if(x(),M()){for(e in i)i.hasOwnProperty(e)&&(i[e].$videoWrapper.hasClass(s.playing)&&(a||(w(e),C(i[e]))),i[e].$videoWrapper.height($(document).width()/r.ratio));y(!1)}else for(e in y(!0),i)i[e].$videoWrapper.find("."+s.videoWithImage).length||(n[e].playVideo(),k(i[e]))}}))),$(window).on("scroll.videoPlayer",$.debounce(50,(function(){if(o)for(var e in i)if(i.hasOwnProperty(e)){var a=i[e].$videoWrapper;a.hasClass(s.playing)&&(a.offset().top+.75*a.height()<$(window).scrollTop()||a.offset().top+.25*a.height()>$(window).scrollTop()+$(window).height())&&(S(e),I(e,!1))}})))}function O(e){var a=$.extend({},r,i[e]);a.playerVars.controls=a.controls,n[e]=new YT.Player(e,a)}function A(e,a){var t=e.find(c),o=e.find(u),i=e.find(p),n=o.find(f),r=i.find(h).find(f),s=i.find(v).find(f);t.each((function(){var e=$(this).find(f);e.text(e.text().replace("[video_title]",a))})),n.text(n.text().replace("[video_title]",a)),r.text(r.text().replace("[video_title]",a)),s.text(s.text().replace("[video_title]",a))}return{init:function(e){if(e.length){if(i[e.attr("id")]={id:e.attr("id"),videoId:e.data("id"),type:e.data("type"),status:"image_with_play"===e.data("type")?"closed":"background",$video:e,$videoWrapper:e.closest(l),$section:e.closest(d),controls:"background"===e.data("type")?0:1},!o){var a=document.createElement("script");a.src="https://www.youtube.com/iframe_api";var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(a,t)}b()}},editorLoadVideo:function(e){o&&(O(e),V())},loadVideos:function(){for(var e in i)i.hasOwnProperty(e)&&O(e);V(),o=!0},playVideo:m,pauseVideo:w,removeEvents:function(){$(document).off(".videoPlayer"),$(window).off(".videoPlayer")}}}(),velatheme.Helpers=function(){var e=!1;return{setTouch:function(){e=!0},isTouch:function(){return e}}}(),velatheme.LibraryLoader=function(){var e="link",a="script",t="requested",o="loaded",i="https://cdn.shopify.com/shopifycloud/",n={youtubeSdk:{tagId:"youtube-sdk",src:"https://www.youtube.com/iframe_api",type:a},plyrShopifyStyles:{tagId:"plyr-shopify-styles",src:i+"shopify-plyr/v1.0/shopify-plyr.css",type:e},modelViewerUiStyles:{tagId:"shopify-model-viewer-ui-styles",src:i+"model-viewer-ui/assets/v1.0/model-viewer-ui.css",type:e}};return{load:function(i,r){var s=n[i];if(s&&s.status!==t)if(r=r||function(){},s.status!==o){var d;switch(s.status=t,s.type){case a:d=function(e,a){var t=document.createElement("script");return t.src=e.src,t.addEventListener("load",(function(){e.status=o,a()})),t}(s,r);break;case e:d=function(e,a){var t=document.createElement("link");return t.href=e.src,t.rel="stylesheet",t.type="text/css",t.addEventListener("load",(function(){e.status=o,a()})),t}(s,r)}d.id=s.tagId,s.element=d;var l=document.getElementsByTagName(s.type)[0];l.parentNode.insertBefore(d,l)}else r()}}}(),velatheme.ProductVideo=function(){var e={},a={html5:"html5",youtube:"youtube"},t="[data-product-single-media-wrapper]",o="enable-video-looping",i="video-id";function n(t){t?function(){for(var t in e)if(e.hasOwnProperty(t)){var o=e[t];if(o.nativeVideo)continue;o.host===a.html5&&(o.element.setAttribute("controls","controls"),o.nativeVideo=!0)}}():d(a.html5)}function r(){window.YT.Player&&d(a.youtube)}function s(e){return"VIDEO"===e.tagName?a.html5:"IFRAME"===e.tagName&&/^(https?:\/\/)?(www\.)?(youtube\.com|youtube-nocookie\.com|youtu\.?be)\/.+$/.test(e.src)?a.youtube:null}function d(a){for(var t in e)if(e.hasOwnProperty(t)){var o=e[t];o.host===a&&o.ready()}}return{init:function(d,l){if(d.length){var c=d.find("iframe, video")[0],u=d.data("mediaId");if(c)switch(e[u]={mediaId:u,sectionId:l,host:s(c),container:d,element:c,ready:function(){!function(e){if(e.player)return;var n=e.container.closest(t),r=n.data(o);switch(e.host){case a.html5:e.player=new Shopify.Plyr(e.element,{loop:{active:r}});break;case a.youtube:var s=n.data(i);e.player=new YT.Player(e.element,{videoId:s,events:{onStateChange:function(e){0===e.data&&r&&e.target.seekTo(0)}}})}n.on("mediaHidden xrLaunch",(function(){e.player&&(e.host===a.html5&&e.player.pause(),e.host===a.youtube&&e.player.pauseVideo&&e.player.pauseVideo())})),n.on("mediaVisible",(function(){velatheme.Helpers.isTouch()||e.player&&(e.host===a.html5&&e.player.play(),e.host===a.youtube&&e.player.playVideo&&e.player.playVideo())}))}(this)}},e[u].host){case a.html5:window.Shopify.loadFeatures([{name:"video-ui",version:"1.0",onLoad:n}]),velatheme.LibraryLoader.load("plyrShopifyStyles");break;case a.youtube:velatheme.LibraryLoader.load("youtubeSdk",r)}}},hosts:a,loadVideos:d,removeSectionVideos:function(a){for(var t in e)if(e.hasOwnProperty(t)){var o=e[t];o.sectionId===a&&(o.player&&o.player.destroy(),delete e[t])}}}}(),velatheme.ProductModel=function(){var e={},a={},t={},o="[data-product-single-media-group]",i="[data-shopify-xr]";function n(a){if(!a)if(window.ShopifyXR){for(var t in e)if(e.hasOwnProperty(t)){var o=e[t];if(o.loaded)continue;var i=$("#ModelJson-"+t);window.ShopifyXR.addModels(JSON.parse(i.html())),o.loaded=!0}window.ShopifyXR.setupXRElements()}else document.addEventListener("shopify_xr_initialized",(function(){n()}))}function r(e){if(!e)for(var t in a)if(a.hasOwnProperty(t)){var o=a[t];o.modelViewerUi||(o.modelViewerUi=new Shopify.ModelViewerUI(o.$element)),s(o)}}function s(e){var a=t[e.sectionId];e.$container.on("mediaVisible",(function(){a.$element.attr("data-shopify-model3d-id",e.modelId),velatheme.Helpers.isTouch()||e.modelViewerUi.play()})),e.$container.on("mediaHidden",(function(){a.$element.attr("data-shopify-model3d-id",a.defaultId),e.modelViewerUi.pause()})).on("xrLaunch",(function(){e.modelViewerUi.pause()}))}return{init:function(s,d){e[d]={loaded:!1},s.each((function(e){var n=$(this),r=n.data("media-id"),s=$(n.find("model-viewer")[0]),l=s.data("model-id");if(0===e){var c=n.closest(o).find(i);t[d]={$element:c,defaultId:l}}a[r]={modelId:l,sectionId:d,$container:n,$element:s}})),window.Shopify.loadFeatures([{name:"shopify-xr",version:"1.0",onLoad:n},{name:"model-viewer-ui",version:"1.0",onLoad:r}]),velatheme.LibraryLoader.load("modelViewerUiStyles")},removeSectionModels:function(t){for(var o in a){if(a.hasOwnProperty(o))a[o].sectionId===t&&(a[o].modelViewerUi.destroy(),delete a[o])}delete e[t]}}}(),velatheme.Product={},velatheme.Product=function(){function e(e){var a=this.$container=$(e),t=a.attr("data-section-id");this.settings={mediaQueryMediumUp:"screen and (min-width: 767px)",mediaQuerySmall:"screen and (max-width: 749px)",bpSmall:!1,enableHistoryState:a.data("enable-history-state")||!1,namespace:".slideshow-"+t,sectionId:t},this.selectors={productMediaWrapper:"[data-product-single-media-wrapper]",productThumbImages:".product-single__thumbnail--"+t,productThumbs:".product-single__thumbnails-"+t,productThumb:".product-single__thumbnail",productThumbListItem:".product-single__thumbnails-item",productThumbsWrapper:".thumbnails-wrapper",productMediaTypeVideo:"[data-product-media-type-video]",productMediaTypeModel:"[data-product-media-type-model]"},this.classes={hidden:"hide",visibilityHidden:"visibility-hidden",activeClass:"active-thumb"},this.$loaderStatus=$(this.selectors.loaderStatus,a),$("#ProductJson-"+t).html()&&(this.productSingleObject=JSON.parse(document.getElementById("ProductJson-"+t).innerHTML),this._initMediaSwitch(),this._initProductVideo(),this._initModelViewerLibraries(),this._initShopifyXrLaunch())}return e.prototype=_.assignIn({},velatheme.Product.prototype,{_initProductVideo:function(){var e=this.settings.sectionId;$(this.selectors.productMediaTypeVideo,this.$container).each((function(){var a=$(this);velatheme.ProductVideo.init(a,e)}))},_initMediaSwitch:function(){if($(this.selectors.productThumbImages).length){var e=this;$(this.selectors.productThumbImages).on("click",(function(a){a.preventDefault();var t=$(this),o=t.data("thumbnail-id"),i=t.data("stype"),n=t.data("zoom-image");$("#ProductPhotoImg").attr("data-zoom-image",n),"image"==i?($("#groupProImage").css("display","block"),$("#groupMedia").css("display","none")):($("#groupProImage").css("display","none"),$("#groupMedia").css("display","block")),e._switchMedia(o),e._setActiveThumbnail(o)})).on("keyup",e._handleMediaFocus.bind(e))}},_setActiveThumbnail:function(e){void 0===e&&(e=$(this.selectors.productMediaWrapper+":not(.hide)",this.$container).data("media-id"));var a=$(this.selectors.productThumbListItem+":not(.slick-cloned)",this.$container),t=a.find(this.selectors.productThumbImages+"[data-thumbnail-id='"+e+"']");$(this.selectors.productThumbImages).removeClass(this.classes.activeClass).removeAttr("aria-current"),t.addClass(this.classes.activeClass),t.attr("aria-current",!0),a.hasClass("slick-slide")},_switchMedia:function(e){var a=$(this.selectors.productMediaWrapper+":not(."+this.classes.hidden+")",this.$container),t=$(this.selectors.productMediaWrapper+"[data-media-id='"+e+"']",this.$container),o=$(this.selectors.productMediaWrapper+":not([data-media-id='"+e+"'])",this.$container);a.trigger("mediaHidden"),t.removeClass(this.classes.hidden).trigger("mediaVisible"),o.addClass(this.classes.hidden)},_handleMediaFocus:function(e){if(e.keyCode===slate.utils.keyboardKeys.ENTER){var a=$(e.currentTarget).data("thumbnail-id");$(this.selectors.productMediaWrapper+"[data-media-id='"+a+"']",this.$container).focus()}},_initModelViewerLibraries:function(){var e=$(this.selectors.productMediaTypeModel,this.$container);e.length<1||velatheme.ProductModel.init(e,this.settings.sectionId)},_initShopifyXrLaunch:function(){var e=this;$(document).on("shopify_xr_launch",(function(){$(e.selectors.productMediaWrapper+":not(."+e.classes.hidden+")",e.$container).trigger("xrLaunch")}))},onUnload:function(){this.$container.off(this.settings.namespace),velatheme.ProductVideo.removeSectionVideos(this.settings.sectionId),velatheme.ProductModel.removeSectionModels(this.settings.sectionId)}}),e}(),$(document).ready((function(){$(vela.init),$("body").on("ajaxCart.afterCartLoad",(function(e,a){"drawer"==window.ajaxcart_type&&vela.RightDrawer.open()}));var e=new velatheme.Sections;e.register("velaSlideshowSection",velatheme.SlideshowSection),e.register("product",velatheme.Product),e.register("vela-template-product",velatheme.Product)})),$(window).on("load",(function(){$(vela.productImage)}));